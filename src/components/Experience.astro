---
import CardExperience from "./Card_experience_simple.astro";
import experiencia from "../../public/mocks/experiencia.json";
---

<div class="h-24" id="idexperiencia"></div>
<section class="overflow-hidden pb-[200px]">
  <a class="flex justify-center font-bold text-6xl">
    Education & <span class="font-bold text-6xl text-rojo"
      >&nbsp Experience</span
    ></a
  >

  <div class="cards flex flex-col mt-40 gap-20">
    {
      experiencia.map((exp) => {
        return (
          <CardExperience
            imgBlanco={exp.imgBlanco}
            imgColor={exp.imgColor}
            empresa={exp.empresa}
            ano={exp.ano}
            titulo={exp.titulo}
            descripcion={exp.descripcion}
          />
        );
      })
    }
  </div>
</section>

<script>
  const cardsContainer = document.querySelector(".cards");

  cardsContainer!.addEventListener("mouseover", function (e) {
    const targetElement = e.target as HTMLElement;
    const cardElement = targetElement.closest(".card");

    if (cardElement) {
      cardElement.classList.remove("opacity");

      const imgBlanco = cardElement.querySelector(".blanco");
      const imgColor = cardElement.querySelector(".color");

      imgBlanco!.classList.add("opacity-0");
      imgColor!.classList.remove("opacity-0");
    }
  });

  cardsContainer!.addEventListener("mouseout", function (e) {
    const targetElement = e.target as HTMLElement;
    const cardElement = targetElement.closest(".card");

    if (cardElement) {
      cardElement.classList.remove("opacity");

      const imgBlanco = cardElement.querySelector(".blanco");
      const imgColor = cardElement.querySelector(".color");

      imgColor!.classList.add("opacity-0");
      imgBlanco!.classList.remove("opacity-0");
    }
  });
</script>
